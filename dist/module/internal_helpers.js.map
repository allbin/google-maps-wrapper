{"version":3,"sources":["../src/module/internal_helpers.ts"],"names":[],"mappings":"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","file":"internal_helpers.js","sourcesContent":["import WrappedMapBase, {\n    // AnyObjectOptions,\n    AnyObjectOptionsSet,\n    WrappedGmapObj,\n    AllMapObjEvents,\n    LatLng,\n    LatLngLiteral,\n    MapObjectType,\n    PolylineOptions,\n    PolylineOptionsSet,\n    WrappedPolyline,\n    MarkerOptions,\n    MarkerOptionsSet,\n    WrappedMarker,\n    PolygonOptions,\n    PolygonOptionsSet,\n    WrappedPolygon,\n    WrappedFeature\n} from './';\n\n/////////////////////////////////\n//INTERNAL MAP HELPER FUNCTIONS\n//These functions are not exported to enduser, only used\n//internally by the map.\n\nconst DEFAULT_POLYLINE_OPTIONS = {\n    visible: true\n};\nconst DEFAULT_POLYGON_OPTIONS = {\n    visible: true\n};\nconst DEFAULT_MARKER_OPTIONS = {\n    visible: true\n};\n\n\nexport function fromLatLngToPixel(map_ref: WrappedMapBase, latLng: LatLng) {\n    if (!map_ref.map) {\n        throw new Error(\"Cannot call fromLatLngToPixel before init is finished.\");\n    }\n    let map = map_ref.map;\n    let bounds = map.getBounds();\n    if (!bounds) {\n        throw new Error(\"Map not mounted when calling fromLatLngToPixel\");\n    }\n    var topRight = map.getProjection().fromLatLngToPoint(bounds.getNorthEast());\n    var bottomLeft = map.getProjection().fromLatLngToPoint(bounds.getSouthWest());\n    var scale = Math.pow(2, map.getZoom());\n    var worldPoint = map.getProjection().fromLatLngToPoint(latLng);\n    return new window.google.maps.Point((worldPoint.x - bottomLeft.x) * scale, (worldPoint.y - topRight.y) * scale);\n}\n\nexport function fitToBoundsOfArray(map_ref: WrappedMapBase, arr_of_coords: [number, number][]) {\n    //Takes [[x, y], ...] array.\n    return new Promise((resolve, reject) => {\n        if (Array.isArray(arr_of_coords) === false) {\n            reject(\"Input not valid array.\");\n        } else if (arr_of_coords.length < 1) {\n            reject(\"Array needs to countain at least one element.\");\n        }\n        if (!map_ref.initialized) {\n            map_ref.do_after_init.push(() => {\n                fitToBoundsOfArray(map_ref, arr_of_coords).then((res) => {\n                    resolve(res);\n                }).catch((err) => {\n                    reject(err);\n                });\n            });\n            return;\n        }\n        let lat_lng_literal = {\n            east: -99999999,\n            west: 99999999,\n            north: 99999999,\n            south: -99999999\n        };\n\n        arr_of_coords.forEach((point) => {\n            lat_lng_literal.west = (point[0] < lat_lng_literal.west) ? point[0] : lat_lng_literal.west;\n            lat_lng_literal.east = (point[0] > lat_lng_literal.east) ? point[0] : lat_lng_literal.east;\n            lat_lng_literal.north = (point[1] < lat_lng_literal.north) ? point[1] : lat_lng_literal.north;\n            lat_lng_literal.south = (point[1] > lat_lng_literal.south) ? point[1] : lat_lng_literal.south;\n        });\n\n        if (map_ref.map) {\n            map_ref.map.fitBounds(lat_lng_literal);\n        }\n        resolve();\n    });\n}\nexport function fitToBoundsOfObjectArray(map_ref: WrappedMapBase, arr_of_latlngliteral: LatLngLiteral[]) {\n    //Takes [{ lat: ?, lng: ? }, ...] array.\n    return new Promise((resolve, reject) => {\n        if (Array.isArray(arr_of_latlngliteral) === false) {\n            reject(\"Input not valid array.\");\n        } else if (arr_of_latlngliteral.length < 1) {\n            reject(\"Array needs to countain at least one element.\");\n        }\n        if (!map_ref.initialized) {\n            map_ref.do_after_init.push(() => {\n                fitToBoundsOfObjectArray(map_ref, arr_of_latlngliteral).then((res) => {\n                    resolve(res);\n                }).catch((err) => {\n                    reject(err);\n                });\n            });\n            return;\n        }\n        let lat_lng_literal = {\n            east: -99999999,\n            west: 99999999,\n            north: 99999999,\n            south: -99999999\n        };\n\n        arr_of_latlngliteral.forEach((point) => {\n            lat_lng_literal.west = (point.lng < lat_lng_literal.west) ? point.lng : lat_lng_literal.west;\n            lat_lng_literal.east = (point.lng > lat_lng_literal.east) ? point.lng : lat_lng_literal.east;\n            lat_lng_literal.north = (point.lat < lat_lng_literal.north) ? point.lat : lat_lng_literal.north;\n            lat_lng_literal.south = (point.lat > lat_lng_literal.south) ? point.lat : lat_lng_literal.south;\n        });\n\n        if (map_ref.map) {\n            map_ref.map.fitBounds(lat_lng_literal);\n        }\n        resolve();\n    });\n}\n\nexport function setPolyline(map_ref: WrappedMapBase, id: string | number, options: PolylineOptionsSet): Promise<WrappedPolyline> {\n    return setMapObject(map_ref, \"polyline\", id, options) as Promise<WrappedPolyline>;\n}\nexport function setPolygon(map_ref: WrappedMapBase, id: string | number, options: PolygonOptionsSet): Promise<WrappedPolygon> {\n    return setMapObject(map_ref, \"polygon\", id, options) as Promise<WrappedPolygon>;\n}\nexport function setMarker(map_ref: WrappedMapBase, id: string | number, options: MarkerOptionsSet): Promise<WrappedMarker> {\n    return setMapObject(map_ref, \"marker\", id, options) as Promise<WrappedMarker>;\n}\n\ntype setMapObject = (\n    map_ref: WrappedMapBase,\n    type: MapObjectType,\n    id: string | number,\n    options: AnyObjectOptionsSet,\n    current_options_id?: string\n) => Promise<WrappedPolyline|WrappedPolygon|WrappedMarker>;\n\nexport const setMapObject: setMapObject = (map_ref, type, id, options, selected_options_id = 'default') => {\n\n    return new Promise((resolve, reject) => {\n        if (!map_ref.initialized) {\n            map_ref.do_after_init.push(() => {\n                setMapObject(map_ref, type, id, options, selected_options_id).then((res) => {\n                    resolve(res);\n                }).catch((err) => {\n                    reject(err);\n                });\n            });\n            return;\n        }\n\n        if (map_ref.map_objects[type].hasOwnProperty(id)) {\n            //This ID has already been drawn.\n            let map_obj = map_ref.map_objects[type][id];\n            const visible = map_obj.gmaps_obj.getVisible();\n            let opts = Object.assign({}, map_obj.options[selected_options_id], options[selected_options_id], { visible: visible });\n            map_obj.selected_options_id = selected_options_id;\n            switch (map_obj.type) {\n                case \"polyline\": {\n                    map_obj.gmaps_obj.setOptions(opts as PolylineOptions);\n                    map_obj.options = options as PolylineOptionsSet;\n                    break;\n                }\n                case \"polygon\": {\n                    map_obj.gmaps_obj.setOptions(opts as PolygonOptions);\n                    map_obj.options = options as PolygonOptionsSet;\n                    break;\n                }\n                case \"marker\": {\n                    map_obj.gmaps_obj.setOptions(opts as MarkerOptions);\n                    map_obj.options = options as MarkerOptionsSet;\n                    break;\n                }\n                default: {\n                    reject(new Error(\"Invalid map object type.\"));\n                }\n            }\n            resolve(map_obj);\n            return;\n        }\n\n        //This extra interface exists so that _cbs can be created at different points in the following code.\n        //Otherwise ungainly \"hasOwnProperty\"-like checks are required.\n        interface MapObjShell extends Partial<WrappedGmapObj> {\n            _cbs: {\n                [key: string]: (e?: any) => void;\n            };\n            type: MapObjectType;\n            selected_options_id: string;\n        }\n\n        let map_obj_shell: MapObjShell = {\n            _cbs: {},\n            type: type,\n            selected_options_id: selected_options_id\n        };\n        let events: AllMapObjEvents[] = [];\n        let path_events: AllMapObjEvents[] = [];\n        switch (type) {\n            case \"marker\": {\n                let opts = Object.assign({}, DEFAULT_MARKER_OPTIONS, options.default);\n                map_obj_shell.gmaps_obj = new window.google.maps.Marker(opts);\n                map_obj_shell.options = opts;\n                events = [\"click\", \"mouseover\", \"mouseout\", \"mousedown\", \"mouseup\", \"dragstart\", \"drag\", \"dragend\", \"dblclick\", \"rightclick\"];\n                break;\n            }\n            case \"polygon\": {\n                let opts = Object.assign({}, DEFAULT_POLYGON_OPTIONS, options.default);\n                map_obj_shell.gmaps_obj = new window.google.maps.Polygon(opts);\n                map_obj_shell.options = opts;\n                events = [\"click\", \"dblclick\", \"dragstart\", \"drag\", \"dragend\", \"mouseover\", \"mouseout\", \"mousedown\", \"mouseup\", \"mousemove\", \"rightclick\"];\n                path_events = [\"set_at\", \"remove_at\", \"insert_at\"];\n                break;\n            }\n            case \"polyline\": {\n                let opts = Object.assign({}, DEFAULT_POLYLINE_OPTIONS, options.default);\n                map_obj_shell.gmaps_obj = new window.google.maps.Polyline(opts);\n                map_obj_shell.options = opts;\n                events = [\"click\", \"dblclick\", \"dragstart\", \"drag\", \"dragend\", \"mouseover\", \"mouseout\", \"mousedown\", \"mouseup\", \"mousemove\", \"rightclick\"];\n                path_events = [\"set_at\", \"remove_at\", \"insert_at\"];\n                break;\n            }\n            default: {\n                reject(new Error(\"Invalid map object type.\"));\n                return;\n            }\n        }\n\n\n        map_obj_shell.registerEventCB = (event_type: string, cb) => {\n            map_obj_shell._cbs[event_type] = cb;\n        };\n        map_obj_shell.unregisterEventCB = (event_type) => {\n            if (map_obj_shell._cbs.hasOwnProperty(event_type)) {\n                delete map_obj_shell._cbs[event_type];\n            }\n        };\n\n\n        map_obj_shell.remove = () => { return unsetMapObject(map_ref, type, id); };\n        map_obj_shell.setOptions = (new_options) => { return setMapObject(map_ref, type, id, new_options, map_obj_shell.selected_options_id); };\n        map_obj_shell.applyOptions = (options_id) => {\n            if (options.hasOwnProperty(options_id)) {\n                throw new Error(\"Tried to applyOptions(options_id) with '\" + options_id + \"', but options for given id are not defined.\");\n            }\n            map_obj_shell.selected_options_id = options_id;\n            const visible = (map_obj_shell.gmaps_obj as google.maps.Polygon).getVisible();\n            const opts_set = map_obj_shell.options;\n            map_obj_shell.gmaps_obj.setOptions(Object.assign({}, opts_set.default, opts_set[options_id], { visible: visible }));\n        };\n        map_obj_shell.hide = () => {\n            map_obj_shell.gmaps_obj.setOptions(Object.assign({}, map_obj_shell.options[map_obj_shell.selected_options_id], { visible: false }));\n        };\n        map_obj_shell.show = () => {\n            map_obj_shell.gmaps_obj.setOptions(Object.assign({}, map_obj_shell.options[map_obj_shell.selected_options_id], { visible: true }));\n        };\n        let map_obj = map_obj_shell as WrappedGmapObj;\n        events.forEach((event_type) => {\n            map_obj.gmaps_obj.addListener(event_type, (e: any) => { return mapObjectEventCB(map_ref, map_obj, event_type, e); });\n        });\n        path_events.forEach((event_type) => {\n            map_obj.gmaps_obj.getPath().addListener(event_type, (e: any) => { return mapObjectEventCB(map_ref, map_obj, event_type, e); });\n        });\n\n        map_obj.gmaps_obj.setMap(map_ref.map);\n\n        switch (map_obj.type) {\n            case \"polyline\": {\n                map_obj.zoomTo = () => {\n                    panZoomToObjectOrFeature(map_ref, map_obj as WrappedPolyline, true);\n                };\n                map_obj.panTo = () => {\n                    panZoomToObjectOrFeature(map_ref, map_obj as WrappedPolyline, false);\n                };\n                map_ref.map_objects[type][id] = map_obj as WrappedPolyline;\n                resolve(map_obj as WrappedPolyline);\n                break;\n            }\n            case \"polygon\": {\n                map_obj.zoomTo = () => {\n                    panZoomToObjectOrFeature(map_ref, map_obj as WrappedPolygon, true);\n                };\n                map_obj.panTo = () => {\n                    panZoomToObjectOrFeature(map_ref, map_obj as WrappedPolygon, false);\n                };\n                map_ref.map_objects[type][id] = map_obj as WrappedPolygon;\n                resolve(map_obj as WrappedPolygon);\n                break;\n            }\n            case \"marker\": {\n                map_obj.zoomTo = () => {\n                    panZoomToObjectOrFeature(map_ref, map_obj as WrappedMarker, true);\n                };\n                map_obj.panTo = () => {\n                    panZoomToObjectOrFeature(map_ref, map_obj as WrappedMarker, false);\n                };\n                map_ref.map_objects[type][id] = map_obj as WrappedMarker;\n                resolve(map_obj as WrappedMarker);\n                break;\n            }\n            default: {\n                reject(new Error(\"Invalid map object type.\"));\n            }\n        }\n        return;\n    });\n};\n\nexport function unsetMapObject(map_ref: WrappedMapBase, type: MapObjectType, id: string | number) {\n    return new Promise<boolean>((resolve, reject) => {\n        if (!map_ref.initialized) {\n            map_ref.do_after_init.push(() => {\n                unsetMapObject(map_ref, type, id).then((res) => {\n                    resolve(res);\n                }).catch((err) => {\n                    reject(err);\n                });\n            });\n            return;\n        }\n\n        if (map_ref.map_objects[type].hasOwnProperty(id)) {\n            //This ID has been drawn.\n\n            if (map_ref.cutting.id && map_ref.cutting.id !== id) {\n                //This object is currently being cut, it cannot be deleted.\n                reject(new Error(\"MAP: Object is currently in cuttingMode; it cannot be removed!\"));\n                return;\n            }\n\n            map_ref.map_objects[type][id].gmaps_obj.setMap(null);\n            delete map_ref.map_objects[type][id];\n            resolve(true);\n            return;\n        }\n        reject(new Error(\"MAP: MapObject does not exist.\"));\n    });\n}\n\nexport function mapObjectEventCB(map_ref: WrappedMapBase, map_obj: WrappedGmapObj, event_type: AllMapObjEvents, e: any) {\n    if (map_ref.cutting.enabled) {\n        //When the map is in cutting mode no object event callbacks are allowed.\n        return true;\n    }\n\n    if (map_obj._cbs.hasOwnProperty(event_type) && map_obj._cbs[event_type]) {\n        map_obj._cbs[event_type](e);\n    }\n    return true;\n}\n\nexport function panZoomToObjectOrFeature(map_ref: WrappedMapBase, obj: WrappedMarker | WrappedPolygon | WrappedPolyline | WrappedFeature, zoom: boolean = true) {\n    if (!map_ref.map) {\n        return;\n    }\n    if (obj.hasOwnProperty(\"gmaps_feature\")) {\n        if (zoom) {\n            map_ref.map.fitBounds((obj as WrappedFeature)._bbox);\n        } else {\n            map_ref.map.panToBounds((obj as WrappedFeature)._bbox);\n        }\n        return;\n    }\n\n    obj = obj as WrappedMarker | WrappedPolygon | WrappedPolyline; //Reset typing.\n    switch (obj.type) {\n        case \"marker\": {\n            let position = obj.gmaps_obj.getPosition();\n            map_ref.map.setCenter(position);\n            if (zoom) {\n                map_ref.map.setZoom(14);\n            }\n            break;\n        }\n        case \"polyline\": {\n            let bounds = {\n                north: -9999,\n                south: 9999,\n                west: 9999,\n                east: -9999\n            };\n            obj.gmaps_obj.getPath().forEach((point) => {\n                bounds.north = point.lat() > bounds.north ? point.lat() : bounds.north;\n                bounds.south = point.lat() < bounds.south ? point.lat() : bounds.south;\n                bounds.west = point.lng() < bounds.west ? point.lng() : bounds.west;\n                bounds.east = point.lng() > bounds.east ? point.lng() : bounds.east;\n            });\n            if (zoom) {\n                map_ref.map.fitBounds(bounds);\n            } else {\n                map_ref.map.panToBounds(bounds);\n            }\n            break;\n        }\n        case \"polygon\": {\n            let bounds = {\n                north: -9999,\n                south: 9999,\n                west: 9999,\n                east: -9999\n            };\n            obj.gmaps_obj.getPaths().forEach((path) => {\n                path.forEach((point) => {\n                    bounds.north = point.lat() > bounds.north ? point.lat() : bounds.north;\n                    bounds.south = point.lat() < bounds.south ? point.lat() : bounds.south;\n                    bounds.west = point.lng() < bounds.west ? point.lng() : bounds.west;\n                    bounds.east = point.lng() > bounds.east ? point.lng() : bounds.east;\n                });\n            });\n            if (zoom) {\n                map_ref.map.fitBounds(bounds);\n            } else {\n                map_ref.map.panToBounds(bounds);\n            }\n            break;\n        }\n    }\n}\n"]}