{"version":3,"sources":["../src/module/external_helpers.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,aAAa,EAAE,MAAM,GAAG,CAAC;AAGlC,aAAK,UAAU,GAAG,OAAO,GAAG,MAAM,GAAG,UAAU,GAAG,OAAO,CAAC;AAO1D,oBAAY,2BAA2B,GAAG,CAAC,QAAQ,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC;AACvI,eAAO,MAAM,uBAAuB,EAAE,2BAErC,CAAC;AAEF,oBAAY,uBAAuB,GAAG,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,OAAO,KAAK,aAAa,EAAE,CAAC;AACvG,eAAO,MAAM,mBAAmB,EAAE,uBASjC,CAAC;AAEF,oBAAY,2BAA2B,GAAG,CAAC,WAAW,EAAE,aAAa,EAAE,EAAE,MAAM,EAAE,OAAO,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC;AAChH,eAAO,MAAM,uBAAuB,EAAE,2BASrC,CAAC;AAEF,oBAAY,8BAA8B,GAAG,CAAC,CAAC,EAAE,MAAM,EAAE,EAAE,CAAC,EAAE,MAAM,EAAE,cAAc,EAAE,MAAM,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC;AACpH,eAAO,MAAM,0BAA0B,EAAE,8BAcxC,CAAC;AAEF,oBAAY,gBAAgB,GAAG,CAAC,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,EAAE,MAAM,EAAE,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC;AAClF,eAAO,MAAM,YAAY,EAAE,gBAY1B,CAAC;AAEF,oBAAY,qBAAqB,GAAG,CAAC,UAAU,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,CAAC,MAAM,EAAE,MAAM,CAAC,EAAE,CAAC;AAC5G,eAAO,MAAM,iBAAiB,EAAE,qBAK/B,CAAC;AAKF,oBAAY,qBAAqB,GAAG,CAAC,CAAC,EAAE,aAAa,EAAE,CAAC,EAAE,aAAa,KAAK,MAAM,CAAC;AACnF,eAAO,MAAM,iBAAiB,EAAE,qBAY/B,CAAC;AAEF,oBAAY,sBAAsB,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,aAAa,EAAE,CAAC;AAC3G,eAAO,MAAM,kBAAkB,EAAE,sBAOhC,CAAC;AAEF,oBAAY,wBAAwB,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,MAAM,EAAE,EAAE,CAAC;AACxG,eAAO,MAAM,oBAAoB,EAAE,wBAIlC,CAAC","file":"external_helpers.d.ts","sourcesContent":["import proj4 from 'proj4';\nimport { LatLngLiteral } from '.';\n\n\ntype Projection = \"GMAPS\" | \"RT90\" | \"SWEREF99\" | \"WGS84\";\n\nconst EARTH_RADIUS = 6378137;\n\n////////////EXPORTED HELPER FUNCTIONS\n//Check Map.helpers for usage.\n\nexport type convertFromArrayOfArrayType = (fromProj: Projection, toProj: Projection, points: [number, number][]) => [number, number][];\nexport const convertFromArrayOfArray: convertFromArrayOfArrayType = (fromProj, toProj, points) => {\n    return proj4(fromProj, toProj, points);\n};\n\nexport type arrayToLatLngObjectType = (coords: [number, number][], invert: boolean) => LatLngLiteral[];\nexport const arrayToLatLngObject: arrayToLatLngObjectType = (arr, invert = false) => {\n    if (invert) {\n        return arr.map((point) => {\n            return { lat: point[1], lng: point[0] };\n        });\n    }\n    return arr.map((point) => {\n        return { lat: point[0], lng: point[1] };\n    });\n};\n\nexport type latLngArrayToCoordArrayType = (latLngArray: LatLngLiteral[], invert: boolean) => [number, number][];\nexport const latLngArrayToCoordArray: latLngArrayToCoordArrayType = (arr, invert) => {\n    if (invert) {\n        return arr.map((point) => {\n            return [point.lng, point.lat] as [number, number];\n        });\n    }\n    return arr.map((point) => {\n        return [point.lat, point.lng] as [number, number];\n    });\n};\n\nexport type makePointsAroundCircleRT90Type = (p: number[], r: number, numberOfPoints: number) => [number, number][];\nexport const makePointsAroundCircleRT90: makePointsAroundCircleRT90Type = (point, r, numberOfPoints = 12) => {\n    //Returns numberOfPoints around circle at p with r radius.\n\n    let points = [];\n    let i;\n\n    for (i = 0; i < numberOfPoints; i += 1) {\n        points.push([\n            point[0] + r * Math.cos(2 * Math.PI * i / numberOfPoints),\n            point[1] + r * Math.sin(2 * Math.PI * i / numberOfPoints)\n        ] as [number, number]);\n    }\n\n    return points;\n};\n\nexport type makeRectRT90Type = (p1: number[], p2: number[]) => [number, number][];\nexport const makeRectRT90: makeRectRT90Type = (p1, p2) => {\n    //p1 and p2 should be opposite corners of the rectangle.\n    let points = [];\n\n    points.push(\n        [p1[0], p1[1]],\n        [p2[0], p1[1]],\n        [p2[0], p2[1]],\n        [p1[0], p2[1]]\n    );\n\n    return points as [number, number][];\n};\n\nexport type movePointsByCoordType = (points_arr: [number, number][], coord: number[]) => [number, number][];\nexport const movePointsByCoord: movePointsByCoordType = (points_arr: [number, number][], coord: number[]) => {\n    //Adds value of Coord to all points in array.\n    return points_arr.map((point) => {\n        return [point[0] + coord[0], point[1] + coord[1]] as [number, number];\n    });\n};\n\n\nfunction squared(x: number): number { return x * x; }\nfunction toRad(x: number): number { return x * Math.PI / 180; }\nexport type haversineDistanceType = (a: LatLngLiteral, b: LatLngLiteral) => number;\nexport const haversineDistance: haversineDistanceType = (a, b) => {\n    const aLat = a.lat;\n    const bLat = b.lat;\n    const aLng = a.lng;\n    const bLng = b.lng;\n    const dLat = toRad(bLat - aLat);\n    const dLon = toRad(bLng - aLng);\n\n    const f = squared(Math.sin(dLat / 2.0)) + Math.cos(toRad(aLat)) * Math.cos(toRad(bLat)) * squared(Math.sin(dLon / 2.0));\n    const c = 2 * Math.atan2(Math.sqrt(f), Math.sqrt(1 - f));\n\n    return EARTH_RADIUS * c;\n};\n\nexport type MVCArrayToObjArrayType = (MVCArr: google.maps.MVCArray<google.maps.LatLng>) => LatLngLiteral[];\nexport const MVCArrayToObjArray: MVCArrayToObjArrayType = (MVCArr) => {\n    return MVCArr.getArray().map((gmapsLatLng) => {\n        return {\n            lat: gmapsLatLng.lat(),\n            lng: gmapsLatLng.lng()\n        };\n    });\n};\n\nexport type MVCArrayToCoordArrayType = (MVCArr: google.maps.MVCArray<google.maps.LatLng>) => number[][];\nexport const MVCArrayToCoordArray: MVCArrayToCoordArrayType = (MVCArr) => {\n    return MVCArr.getArray().map((gmapsLatLng) => {\n        return [gmapsLatLng.lat(), gmapsLatLng.lng()];\n    });\n};\n"]}